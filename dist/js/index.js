"use strict";function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}$("#btn").click(function(){$.ajax({url:"/weather",dataType:"json",data:{appkey:"0d7061f7bfa9bf83ad665ca9914a9163",city:$("#inp").val()},success:function(t){var e=t.result.result.hourly;console.log(t.result.result),console.log(t.result.result.hourly),console.log(formatter(e).x),console.log(formatter(e).y),console.log(formatter(e).min,formatter(e).max),echarts.init($("#box")[0]).setOption(setOpt(formatter(e)))}})});var formatter=function(t){var r={x:[],y:[],min:0,max:0};return $.each(t,function(t,e){0==t?(r.x.push("now"),r.y.push(e.temp),r.max=e.temp,r.min=e.temp):t%3==0&&(r.x.push(e.time.split(":")[0]+"时"),r.y.push(e.temp)),e.temp>r.max&&(r.max=e.temp),e.temp<r.min&&(r.min=e.temp)}),r};function setOpt(t){return{title:{text:(new Date).toLocaleDateString()+"  24小时内"+$("#inp").val()+"城市温度",textStyle:{color:"tomato"},left:"center"},color:["hotpink"],tooltip:_defineProperty({trigger:"axis",formatter:"Temperature:{c}°C",backgroundColor:"rgba(225,194,50,0.4)",axisPointer:{type:"cross",show:!1,label:{color:"#789122"}}},"backgroundColor","rgba(50,50,50,0.4)"),xAxis:{type:"category",data:t.x},yAxis:{type:"value",min:function(){return t.min},max:function(){return t.max},name:"温度",nameTextStyle:{fontSize:18,color:"purple"}},series:[{data:t.y,type:"line"}]}}